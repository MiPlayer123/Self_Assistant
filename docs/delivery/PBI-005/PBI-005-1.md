# PBI-005-1 Register `wagoo://` protocol & deep-link handler

## Description
Ensure the Electron app claims the custom protocol on macOS, Windows, and Linux, and that any incoming deep link containing an OAuth `code` is forwarded to the renderer process.

## Status History
| Timestamp | Event | From_Status | To_Status | Details | User |
|-----------|-------|------------|----------|---------|------|
| 2025-06-30 00:02 | user_approves | Proposed | Agreed | Task approved by user | User |
| 2025-06-30 00:03 | start_work | Agreed | InProgress | Implementation started | AI_Agent |

## Requirements
- App registers `wagoo` scheme via `app.setAsDefaultProtocolClient`.
- When a deep link is received while the app is running, forward `auth-callback` IPC with `{ code }`.
- When app is launched via deep link, parse `process.argv` and do the same before window loads.
- Maintain single-instance lock.

## Implementation Plan
1. Update `electron/main.ts` (most logic already present, just confirm protocol setup and IPC send).
2. No new dependencies.

## Test Plan
- macOS: run packaged `.app`, click OAuth link â†’ expect "Open Wagoo" prompt and successful sign-in.
- Windows: run packaged `.exe`, same expectation.
- Confirm that repeating OAuth while app is running focuses window and signs in without duplicate instances.

## Verification
Manual QA on all three OSes.

## Files Modified
- `electron/main.ts`
- (none others) 