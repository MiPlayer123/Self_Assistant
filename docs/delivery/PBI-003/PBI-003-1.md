# [PBI-003-1] Install `node-llama-cpp` and Configure Electron/Vite

## Description
This task involves installing the `node-llama-cpp` library, which provides Node.js bindings for `llama.cpp`, enabling local LLM inference. It also includes updating the Electron and Vite configurations to ensure proper support for ECMAScript Modules (ESM) and the native dependencies of `node-llama-cpp`.

## Status History
- **2024-05-22 10:05** - Proposed - Task created and added to PBI-003 task list - AI_Agent
- **2024-05-22 10:30** - InProgress - Started implementation of node-llama-cpp installation and configuration - AI_Agent
- **2024-05-22 10:45** - Done - Successfully installed node-llama-cpp, configured Vite externalization, and verified import functionality - AI_Agent

## Requirements
*   Install `node-llama-cpp` as a project dependency.
*   Verify Electron and Vite configurations support ESM for `node-llama-cpp`.
*   Ensure `node-llama-cpp` is correctly externalized in Vite's build configuration to prevent bundling issues with C++ resources.

## Implementation Plan
1.  **Install `node-llama-cpp`:** Add `node-llama-cpp` to `package.json` and install it using `bun install`.
2.  **Verify Electron ESM Support:** Confirm that the current Electron version (36.x.x) supports ESM modules. (Already confirmed 36.4.0 in previous step).
3.  **Configure Vite for External `node-llama-cpp`:** Modify `vite.main.config.ts` to externalize `node-llama-cpp` to prevent bundling native C++ libraries.

## Test Plan
*   **Compilation Test:** Ensure the project compiles successfully after installing `node-llama-cpp` and modifying Vite configuration.
*   **Basic Import Test:** Write a simple Node.js script (e.g., in `electron/main.ts` or a temporary test file) to import `node-llama-cpp` and verify it loads without errors.

## Verification
*   Successful project compilation.
*   `node-llama-cpp` imports without errors in the Electron main process.

## Files Modified
*   `package.json`
*   `vite.main.config.ts` 