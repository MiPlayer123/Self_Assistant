# PBI-004-7 Disable Local Screenshot

## Description
Disable screenshot attachments when a local AI model is selected. The UI should grey-out the screenshot button and the Ctrl/Alt + H shortcut should be inactive. Cloud models retain full screenshot capability.

## Status History
| Timestamp | Event | From_Status | To_Status | Details | User |
|-----------|-------|------------|-----------|---------|------|
| 2025-07-03 | user_approves | Proposed | Agreed | Task created and approved by user in chat | user |
| 2025-07-03 | start_work | Agreed | InProgress | Implementation started by AI agent | AI_Agent |

## Requirements
1. Screenshot button disabled and visually greyed for local models only.
2. Global "Take screenshot" shortcut does nothing for local models.
3. No backend screenshot IPC calls are made when local model is active.
4. Behaviour toggles automatically when user switches between local/cloud models.

## Implementation Plan
1. Add `supportsScreenshot: boolean` to `IChatModel`.
2. Return `false` in local provider, `true` elsewhere.
3. Compute `screenshotDisabled` in `ChatPage` based on local model selection.
4. Pass flag to `ChatInput`; disable button and update tooltip.
5. Guard screenshot logic and shortcut listener behind the flag.
6. Update docs and task list per repository rules.

## Test Plan
• Unit: Verify `LocalChatModel.supportsScreenshot === false`.
• Integration: With local model selected, screenshot button has `disabled` attribute and tooltip text shows disabled message.
• Integration: Pressing shortcut with local model does not trigger screenshot IPC.
• Regression: With cloud model, screenshots still work as before.

## Verification
Manual QA and automated tests pass per the Test Plan.

## Files Modified
- `src/types/chat.ts`
- `src/components/chat/ChatInput.tsx`
- `src/components/chat/ChatPage.tsx`
- `src/models/providers/*/ChatModel.ts`
- `docs/delivery/PBI-004/tasks.md` 